import{c as e,e as t}from"./VCard-C7jV5J1X.mjs";import{g as a,p as o,c as l,a as u,v as s,m as i,q as n,e as r,o as v,n as c,t as p}from"./server.mjs";function useResizeObserver(e){const t=p(),a=s.ref();return{resizeRef:t,contentRect:s.readonly(a)}}const d=Symbol.for("vuetify:layout"),m=Symbol.for("vuetify:layout-item"),f=o({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout");function useLayout(){const e=s.inject(d);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function createLayout(e){const t=s.inject(d,null),a=s.computed(()=>t?t.rootZIndex.value-100:1e3),o=s.ref([]),l=s.reactive(new Map),u=s.reactive(new Map),i=s.reactive(new Map),p=s.reactive(new Map),f=s.reactive(new Map),{resizeRef:y,contentRect:g}=useResizeObserver(),h=s.computed(()=>{const t=new Map,a=e.overlaps??[];for(const e of a.filter(e=>e.includes(":"))){const[a,s]=e.split(":");if(!o.value.includes(a)||!o.value.includes(s))continue;const i=l.get(a),n=l.get(s),r=u.get(a),v=u.get(s);i&&n&&r&&v&&(t.set(s,{position:i.value,amount:parseInt(r.value,10)}),t.set(a,{position:n.value,amount:-parseInt(v.value,10)}))}return t}),x=s.computed(()=>{const e=[...new Set([...i.values()].map(e=>e.value))].sort((e,t)=>e-t),t=[];for(const a of e){const e=o.value.filter(e=>i.get(e)?.value===a);t.push(...e)}return((e,t,a,o)=>{let l={top:0,left:0,right:0,bottom:0};const u=[{id:"",layer:{...l}}];for(const s of e){const e=t.get(s),i=a.get(s),n=o.get(s);if(!e||!i||!n)continue;const r={...l,[e.value]:parseInt(l[e.value],10)+(n.value?parseInt(i.value,10):0)};u.push({id:s,layer:r}),l=r}return u})(t,l,u,p)}),I=s.computed(()=>!Array.from(f.values()).some(e=>e.value)),R=s.computed(()=>x.value[x.value.length-1].layer),b=s.toRef(()=>({"--v-layout-left":n(R.value.left),"--v-layout-right":n(R.value.right),"--v-layout-top":n(R.value.top),"--v-layout-bottom":n(R.value.bottom),...I.value?void 0:{transition:"none"}})),z=s.computed(()=>x.value.slice(1).map((e,t)=>{let{id:a}=e;const{layer:o}=x.value[t],s=u.get(a),i=l.get(a);return{id:a,...o,size:Number(s.value),position:i.value}})),getLayoutItem=e=>z.value.find(t=>t.id===e),$=r("createLayout"),w=s.shallowRef(!1);s.provide(d,{register:(e,t)=>{let{id:n,order:r,position:d,layoutSize:y,elementSize:g,active:R,disableTransitions:b,absolute:S}=t;i.set(n,r),l.set(n,d),u.set(n,y),p.set(n,R),b&&f.set(n,b);const L=v(m,$?.vnode).indexOf(e);L>-1?o.value.splice(L,0,n):o.value.push(n);const C=s.computed(()=>z.value.findIndex(e=>e.id===n)),V=s.computed(()=>a.value+2*x.value.length-2*C.value);return{layoutItemStyles:s.computed(()=>{const e="left"===d.value||"right"===d.value,t="right"===d.value,o="bottom"===d.value,l=g.value??y.value,u=0===l?"%":"px",s={[d.value]:0,zIndex:V.value,transform:`translate${e?"X":"Y"}(${(R.value?0:-(0===l?100:l))*(t||o?-1:1)}${u})`,position:S.value||1e3!==a.value?"absolute":"fixed",...I.value?void 0:{transition:"none"}};if(!w.value)return s;const i=z.value[C.value];i||c(`[Vuetify] Could not find layout item "${n}"`);const r=h.value.get(n);return r&&(i[r.position]+=r.amount),{...s,height:e?`calc(100% - ${i.top}px - ${i.bottom}px)`:g.value?`${g.value}px`:void 0,left:t?void 0:`${i.left}px`,right:t?`${i.right}px`:void 0,top:"bottom"!==d.value?`${i.top}px`:void 0,bottom:"top"!==d.value?`${i.bottom}px`:void 0,width:e?g.value?`${g.value}px`:void 0:`calc(100% - ${i.left}px - ${i.right}px)`}}),layoutItemScrimStyles:s.computed(()=>({zIndex:V.value-1})),zIndex:V}},unregister:e=>{i.delete(e),l.delete(e),u.delete(e),p.delete(e),f.delete(e),o.value=o.value.filter(t=>t!==e)},mainRect:R,mainStyles:b,getLayoutItem:getLayoutItem,items:z,layoutRect:g,rootZIndex:a});return{layoutClasses:s.toRef(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),layoutStyles:s.toRef(()=>({zIndex:t?a.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0})),getLayoutItem:getLayoutItem,items:z,layoutRect:g,layoutRef:y}}const y=o({...t(),...f({fullHeight:!0}),...i()},"VApp"),g=a()({name:"VApp",props:y(),setup(t,a){let{slots:o}=a;const i=l(t),{layoutClasses:n,getLayoutItem:r,items:v,layoutRef:c}=createLayout(t),{rtlClasses:p}=u();return e(()=>s.createElementVNode("div",{ref:c,class:s.normalizeClass(["v-application",i.themeClasses.value,n.value,p.value,t.class]),style:s.normalizeStyle([t.style])},[s.createElementVNode("div",{class:"v-application__wrap"},[o.default?.()])])),{getLayoutItem:r,items:v,theme:i}}});export{g as V,useResizeObserver as a,useLayout as u};
//# sourceMappingURL=VApp-B4E8emd-.mjs.map
